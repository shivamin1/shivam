<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shivam Amin Portfolio</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/framer-motion/dist/framer-motion.umd.js"></script>
  <script src="https://unpkg.com/lucide-react/dist/umd/lucide-react.min.js"></script>
  <style>
    :root{
      --accent:#0d9488;
      --brand:#0f172a;
      --bg:#ffffff;
      --card:#f8fafc;
      --muted:#475569;
      --btn-text:#ffffff;
    }
    html.dark{
      --bg:#071428;
      --card:#071428;
      --brand:#e6eef8;
      --muted:#94a3b8;
      --accent:#0ea5a4;
      --btn-text:#ffffff;
    }
    html.high-contrast{
      --bg:#000000;
      --card:#111111;
      --brand:#ffffff;
      --muted:#cbd5e1;
      --accent:#ffd60a;
      --btn-text:#000000;
    }
    body{background:var(--bg);color:var(--brand);}
    .btn-primary{background:var(--accent);color:var(--btn-text);padding:0.5rem 1rem;border-radius:0.5rem;}
    .btn-ghost{padding:0.5rem 1rem;border-radius:0.5rem;}
    .badge{display:inline-block;padding:.36rem .75rem;border-radius:999px;font-weight:700;background:var(--accent);color:var(--btn-text);}  
  </style>
</head>
<body class="font-sans">
  <header class="flex justify-between items-center p-4 shadow-md">
    <h1 class="text-xl font-bold">Shivam Amin</h1>
    <nav>
      <ul class="hidden md:flex gap-6">
        <li><a href="#about" class="nav-link">About</a></li>
        <li><a href="#experience" class="nav-link">Experience</a></li>
        <li><a href="#skills" class="nav-link">Skills</a></li>
        <li><a href="#contact" class="nav-link">Contact</a></li>
      </ul>
    </nav>
    <div class="flex items-center gap-2">
      <!-- Dark-mode toggle -->
      <button id="themeToggle" class="btn-ghost inline-flex items-center gap-2" aria-pressed="false" aria-label="Toggle dark mode">
        <i data-lucide="moon" class="w-4 h-4" aria-hidden="true"></i>
        <span class="text-sm">Dark</span>
      </button>
      <!-- High contrast toggle -->
      <button id="hcToggle" class="btn-ghost inline-flex items-center gap-2" aria-pressed="false" aria-label="Toggle high contrast mode">
        <i data-lucide="sun" class="w-4 h-4" aria-hidden="true"></i>
        <span class="text-sm">High contrast</span>
      </button>
      <!-- Contrast check -->
      <button id="contrastCheckBtn" class="btn-ghost inline-flex items-center gap-2" aria-label="Run contrast check">
        <i data-lucide="eye" class="w-4 h-4" aria-hidden></i>
        <span class="text-sm">Contrast</span>
      </button>
      <!-- Mobile menu button -->
      <button id="mobileBtn" class="md:hidden p-2 rounded-md hover:bg-slate-100 focus:outline-none" aria-expanded="false" aria-controls="mobileMenu">
        <i data-lucide="menu" class="w-6 h-6" aria-hidden></i>
        <span class="sr-only">Open navigation menu</span>
      </button>
    </div>
  </header>

  <main class="p-8">
    <section id="about" class="mb-16">
      <h2 class="text-2xl font-bold mb-4">About Me</h2>
      <p>Hello, Iâ€™m Shivam Amin. Welcome to my portfolio website.</p>
    </section>

    <section id="experience" class="mb-16">
      <h2 class="text-2xl font-bold mb-4">Experience</h2>
      <p>Details about professional experience go here.</p>
    </section>

    <section id="skills" class="mb-16">
      <h2 class="text-2xl font-bold mb-4">Skills</h2>
      <span class="badge">JavaScript</span>
      <span class="badge">HTML</span>
      <span class="badge">CSS</span>
    </section>

    <section id="contact" class="mb-16">
      <h2 class="text-2xl font-bold mb-4">Contact</h2>
      <p>Email: example@example.com</p>
    </section>
  </main>

  <div id="reportModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-6 rounded-lg w-3/4 max-w-xl" role="dialog" aria-modal="true">
      <h3 class="text-xl font-bold mb-4">Accessibility Report</h3>
      <div id="reportContent"></div>
      <button onclick="document.getElementById('reportModal').classList.add('hidden')" class="btn-primary mt-4">Close</button>
    </div>
  </div>

  <script>
    // theme toggle
    const themeToggle = document.getElementById('themeToggle');
    const hcToggle = document.getElementById('hcToggle');

    themeToggle.addEventListener('click', ()=>{
      document.documentElement.classList.toggle('dark');
      themeToggle.setAttribute('aria-pressed', document.documentElement.classList.contains('dark'));
    });
    hcToggle.addEventListener('click', ()=>{
      document.documentElement.classList.toggle('high-contrast');
      hcToggle.setAttribute('aria-pressed', document.documentElement.classList.contains('high-contrast'));
    });

    // contrast check function
    (function(){
      function parseRGB(rgb){ if(!rgb) return null; const m = rgb.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d.]+))?\)/i); if(!m) return null; return {r:parseInt(m[1],10), g:parseInt(m[2],10), b:parseInt(m[3],10), a: m[4] ? parseFloat(m[4]) : 1}; }
      function sRGBtoLin(c){ c = c/255; return c<=0.03928 ? c/12.92 : Math.pow((c+0.055)/1.055, 2.4); }
      function luminance(rgb){ return 0.2126*sRGBtoLin(rgb.r) + 0.7152*sRGBtoLin(rgb.g) + 0.0722*sRGBtoLin(rgb.b); }
      function contrastRatio(rgb1, rgb2){ const L1 = luminance(rgb1); const L2 = luminance(rgb2); const lighter = Math.max(L1,L2); const darker = Math.min(L1,L2); return (lighter + 0.05) / (darker + 0.05); }
      function effectiveBackgroundColor(el){ let node = el; while(node && node !== document){ const bg = getComputedStyle(node).backgroundColor; const rgb = parseRGB(bg); if(rgb && rgb.a > 0) return rgb; node = node.parentElement; } return parseRGB(getComputedStyle(document.body).backgroundColor) || {r:255,g:255,b:255,a:1}; }
      function getTextColor(el){ const color = getComputedStyle(el).color; return parseRGB(color) || {r:0,g:0,b:0,a:1}; }
      function isLargeText(el){ const size = parseFloat(getComputedStyle(el).fontSize); const weight = parseInt(getComputedStyle(el).fontWeight) || 400; return (size >= 18) || (size >= 14 && weight >= 700); }
      function checkPair(el){ if(!el) return null; const fg = getTextColor(el); const bg = effectiveBackgroundColor(el); const ratio = Math.round(contrastRatio(fg,bg)*100)/100; const threshold = isLargeText(el) ? 3.0 : 4.5; const pass = ratio >= threshold; return {ratio, threshold, pass}; }

      function runContrastCheck(){
        const items = [
          {sel:'body',name:'Body text'},
          {sel:'#about h2',name:'About heading'},
          {sel:'.btn-primary',name:'Primary button'},
          {sel:'.btn-ghost',name:'Ghost button'},
          {sel:'.badge',name:'Badge'},
          {sel:'header nav a',name:'Navigation link'}
        ];
        const report = [];
        items.forEach(i=>{
          const el = document.querySelector(i.sel);
          if(!el) return;
          const res = checkPair(el);
          report.push({element:i.name, ratio: res ? res.ratio : 'n/a', required: res ? res.threshold : 'n/a', pass: res ? res.pass : false});
        });
        const html = ['<table style="width:100%;border-collapse:collapse"><thead><tr><th style="text-align:left;padding:8px;border-bottom:1px solid #ddd">Element</th><th style="padding:8px;border-bottom:1px solid #ddd">Contrast</th><th style="padding:8px;border-bottom:1px solid #ddd">Required</th><th style="padding:8px;border-bottom:1px solid #ddd">Result</th></tr></thead><tbody>'];
        report.forEach(r=>{
          html.push('<tr><td style="padding:8px;border-bottom:1px solid #eee">' + r.element + '</td><td style="padding:8px;border-bottom:1px solid #eee">' + r.ratio + ':1</td><td style="padding:8px;border-bottom:1px solid #eee">' + r.required + ':1</td><td style="padding:8px;border-bottom:1px solid #eee">' + (r.pass ? '<span style="color:green;font-weight:700">PASS</span>' : '<span style="color:crimson;font-weight:700">FAIL</span>') + '</td></tr>');
        });
        html.push('</tbody></table>');
        const panel = document.getElementById('reportContent');
        if(panel){ panel.innerHTML = html.join(''); document.getElementById('reportModal').classList.remove('hidden'); panel.focus(); }
      }
      const btn = document.getElementById('contrastCheckBtn');
      if(btn) btn.addEventListener('click', runContrastCheck);
    })();
  </script>
</body>
</html>
